<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             xmlns:inputs="clr-namespace:Syncfusion.Maui.Inputs;assembly=Syncfusion.Maui.Inputs"
             xmlns:controls="clr-namespace:Syncfusion.Maui.Core;assembly=Syncfusion.Maui.Core"
             xmlns:buttons="clr-namespace:Syncfusion.Maui.Buttons;assembly=Syncfusion.Maui.Buttons"
             xmlns:vm="clr-namespace:TaxiDC2.ViewModels"
             xmlns:models="clr-namespace:TaxiDC2.Models"
             x:Class="TaxiDC2.DetailRidic"
             x:DataType="vm:DriverNewViewModel">

    <Grid BackgroundColor="{StaticResource GridBG}">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto" />
            <RowDefinition Height="*" />
        </Grid.RowDefinitions>

       

        <!-- Content Section -->
        <ScrollView Grid.Row="1" Padding="15">
            <StackLayout Spacing="15" HorizontalOptions="FillAndExpand">

                <!-- Driver Details -->
                <Frame  Style="{StaticResource CustomFrame}">
                    <StackLayout Spacing="10">
                        <VerticalStackLayout>
                            <Label Text="Jméno:" FontSize="16" TextColor="{StaticResource Bila}" />
                            <Entry Text="{Binding FirstName}" FontSize="16" TextColor="{StaticResource Bila}" HorizontalOptions="FillAndExpand" />
                        </VerticalStackLayout>
                        <VerticalStackLayout>
                            <Label Text="Příjmení:" FontSize="16" TextColor="{StaticResource Bila}" />
                            <Entry Text="{Binding LastName}" FontSize="16" TextColor="{StaticResource Bila}" HorizontalOptions="FillAndExpand" />
                        </VerticalStackLayout>
                        <VerticalStackLayout>
                            <Label Text="Mobilní zařízení:" FontSize="16" TextColor="{StaticResource Bila}" />
                            <Entry Text="{Binding MobileDeviceKey}" FontSize="16" TextColor="{StaticResource Bila}" HorizontalOptions="FillAndExpand" />
                        </VerticalStackLayout>
                        <VerticalStackLayout>
                            <Label Text="Telefonní číslo:" FontSize="16" TextColor="{StaticResource Bila}" />
                            <Entry Text="{Binding PhoneNumber}" FontSize="16" TextColor="{StaticResource Bila}" HorizontalOptions="FillAndExpand" />
                        </VerticalStackLayout>
                    </StackLayout>
                </Frame>

                <!-- Preferences -->
                <Frame Style="{StaticResource CustomFrame}">
                    <StackLayout Spacing="10">
                        <HorizontalStackLayout>
                            <Label Text="Aktivní:" FontSize="16" TextColor="{StaticResource Bila}" VerticalTextAlignment="Center" />
                            <buttons:SfSwitch IsOn="{Binding Active}" HorizontalOptions="Start" ></buttons:SfSwitch>

                        </HorizontalStackLayout>
                        <HorizontalStackLayout>
                            <Label Text="Notifikace zapnuty:" FontSize="16" TextColor="{StaticResource Bila}" VerticalTextAlignment="Center" />
                            <!--<buttons:SfSwitch IsOn="{Binding NotificationEnable}" HorizontalOptions="Start" />-->
                            <buttons:SfSwitch IsOn="{Binding NotificationEnable}" HorizontalOptions="Start" >
                                <VisualStateManager.VisualStateGroups>
                                    <VisualStateGroup  x:Name="Stav">
                                        <VisualState x:Name="On">
                                            <VisualState.Setters>
                                                <Setter Property="SwitchSettings">
                                                    <Setter.Value>
                                                        <buttons:SwitchSettings
                                    TrackHeightRequest="40"
                                    TrackWidthRequest="80"
                                    ThumbHeightRequest="30"
                                    ThumbWidthRequest="30"
                                    IconColor="DarkGreen"
                                    CustomPath="M17.2558 12.7442L15.8333 11.3217V8.33341C15.8333 5.65258 14.0125 3.39425 11.5458 2.71508C11.3017 2.10008 10.705 1.66675 10 1.66675C9.295 1.66675 8.69833 2.10008 8.45417 2.71508C5.9875 3.39508 4.16667 5.65258 4.16667 8.33341V11.3217L2.74417 12.7442C2.66663 12.8215 2.60514 12.9133 2.56324 13.0144C2.52133 13.1156 2.49984 13.224 2.5 13.3334V15.0001C2.5 15.2211 2.5878 15.4331 2.74408 15.5893C2.90036 15.7456 3.11232 15.8334 3.33333 15.8334H16.6667C16.8877 15.8334 17.0996 15.7456 17.2559 15.5893C17.4122 15.4331 17.5 15.2211 17.5 15.0001V13.3334C17.5002 13.224 17.4787 13.1156 17.4368 13.0144C17.3949 12.9133 17.3334 12.8215 17.2558 12.7442V12.7442ZM15.8333 14.1667H4.16667V13.6784L5.58917 12.2559C5.6667 12.1787 5.72819 12.0868 5.7701 11.9857C5.812 11.8846 5.83349 11.7762 5.83333 11.6667V8.33341C5.83333 6.03591 7.7025 4.16675 10 4.16675C12.2975 4.16675 14.1667 6.03591 14.1667 8.33341V11.6667C14.1667 11.8884 14.2542 12.1001 14.4108 12.2559L15.8333 13.6784V14.1667ZM10 18.3334C10.5161 18.3341 11.0195 18.1739 11.4404 17.8752C11.8613 17.5765 12.1786 17.1541 12.3483 16.6667H7.65167C7.82139 17.1541 8.13873 17.5765 8.55959 17.8752C8.98045 18.1739 9.48392 18.3341 10 18.3334V18.3334Z"/>
                                                    </Setter.Value>
                                                </Setter>
                                            </VisualState.Setters>
                                        </VisualState>
                                        <VisualState x:Name="Off">
                                            <VisualState.Setters>
                                                <Setter Property="SwitchSettings">
                                                    <Setter.Value>
                                                        <buttons:SwitchSettings
                                    TrackHeightRequest="40"
                                    TrackWidthRequest="80"
                                    ThumbHeightRequest="30"
                                    ThumbWidthRequest="30"
                                    IconColor="Red"
                                    CustomPath="M10.0003 18.3334C10.5164 18.3341 11.0198 18.1739 11.4407 17.8752C11.8616 17.5765 12.1789 17.1541 12.3486 16.6667H7.65197C7.82168 17.1541 8.13903 17.5765 8.55989 17.8752C8.98075 18.1739 9.48422 18.3341 10.0003 18.3334V18.3334ZM17.5003 15.0001V13.3334C17.5005 13.224 17.479 13.1156 17.4371 13.0144C17.3952 12.9133 17.3337 12.8215 17.2561 12.7442L15.8336 11.3217V8.33341C15.8336 5.65258 14.0128 3.39425 11.5461 2.71508C11.302 2.10008 10.7053 1.66675 10.0003 1.66675C9.2953 1.66675 8.69863 2.10008 8.45447 2.71508C7.35197 3.01841 6.40197 3.65508 5.66613 4.48758L3.08947 1.91091L1.91113 3.08925L16.9111 18.0892L18.0895 16.9109L16.9545 15.7759C17.114 15.7182 17.252 15.6128 17.3496 15.474C17.4472 15.3352 17.4998 15.1698 17.5003 15.0001V15.0001ZM10.0003 4.16675C12.2978 4.16675 14.167 6.03591 14.167 8.33341V11.6667C14.167 11.8884 14.2545 12.1001 14.4111 12.2559L15.8336 13.6784V14.1667H15.3453L6.83947 5.66091C7.6003 4.75425 8.72613 4.16675 10.0003 4.16675ZM5.58947 12.2559C5.667 12.1787 5.72849 12.0868 5.7704 11.9857C5.8123 11.8846 5.83379 11.7762 5.83363 11.6667V9.26758L4.22363 7.65758C4.1978 7.88091 4.16697 8.10341 4.16697 8.33341V11.3217L2.74447 12.7442C2.66693 12.8215 2.60544 12.9133 2.56354 13.0144C2.52163 13.1156 2.50014 13.224 2.5003 13.3334V15.0001C2.5003 15.2211 2.5881 15.4331 2.74438 15.5893C2.90066 15.7456 3.11262 15.8334 3.33363 15.8334H12.3995L10.7328 14.1667H4.16697V13.6784L5.58947 12.2559Z"/>
                                                    </Setter.Value>
                                                </Setter>
                                            </VisualState.Setters>
                                        </VisualState>
                                       
                                    </VisualStateGroup>
                                </VisualStateManager.VisualStateGroups>
                            </buttons:SfSwitch>
                        </HorizontalStackLayout>
                        <HorizontalStackLayout>
                            <Label Text="Administrator:" FontSize="16" TextColor="{StaticResource Bila}" VerticalTextAlignment="Center" />
                            <buttons:SfSwitch IsOn="{Binding IsAdmin}" HorizontalOptions="End" />

                        </HorizontalStackLayout>
                    </StackLayout>
                </Frame>

                <!-- Car Selection -->
                <Frame  Style="{StaticResource CustomFrame}">
                    <StackLayout>
                        <Label Text="Vyberte aktivní auto:" FontSize="16" TextColor="{StaticResource Bila}" />
                        <inputs:SfComboBox x:Name="CarSelector" HorizontalOptions="CenterAndExpand"
                                           DisplayMemberPath="FullName"
                                           SelectedItem="{Binding SelectedCar,Mode=TwoWay}"
                                           ItemsSource="{Binding CarsList}">
                            <inputs:SfComboBox.ItemTemplate>
                                <DataTemplate x:DataType="models:Car">
                                    <HorizontalStackLayout Spacing="10">
                                        <Image Source="car_icon.png" WidthRequest="20" HeightRequest="20" />
                                        <Label Text="{Binding FullName}" TextColor="{StaticResource Bila}" VerticalTextAlignment="Center" />
                                    </HorizontalStackLayout>
                                </DataTemplate>
                            </inputs:SfComboBox.ItemTemplate>
                        </inputs:SfComboBox>
                    </StackLayout>
                </Frame>

                <!-- Save Button -->
                <Button Text="ULOŽIT ZMĚNY" BackgroundColor="{StaticResource Oranzova}" TextColor="Black" FontSize="16" VerticalOptions="EndAndExpand" CornerRadius="10" Command="{Binding SaveDataCmd}" />
            </StackLayout>
        </ScrollView>
    </Grid>
</ContentPage>
