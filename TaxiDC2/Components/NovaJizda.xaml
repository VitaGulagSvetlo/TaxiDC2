<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             xmlns:inputs="clr-namespace:Syncfusion.Maui.Inputs;assembly=Syncfusion.Maui.Inputs"
             xmlns:picker="clr-namespace:Syncfusion.Maui.Picker;assembly=Syncfusion.Maui.Picker"
             xmlns:popup="clr-namespace:Syncfusion.Maui.Popup;assembly=Syncfusion.Maui.Popup"
             xmlns:syncfusion="clr-namespace:Syncfusion.Maui.Core;assembly=Syncfusion.Maui.Core"
             xmlns:dataForm="clr-namespace:Syncfusion.Maui.DataForm;assembly=Syncfusion.Maui.DataForm"
             xmlns:vm="clr-namespace:TaxiDC2.ViewModels"
             x:Class="TaxiDC2.NovaJizda"
             Title="Nová jízda"
             BackgroundColor="{StaticResource GridBG}">

    <Grid BackgroundColor="{StaticResource GridBG}">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto" />
            <RowDefinition Height="*" />
        </Grid.RowDefinitions>

        <!-- Header Section -->
        <Grid Padding="10">
            <Grid.Background>
                <LinearGradientBrush StartPoint="1,1" EndPoint="0,0">
                    <GradientStop Color="{StaticResource GradientGray}" Offset="0.0" />
                    <GradientStop Color="{StaticResource GradientOrange}" Offset="1.1" />
                </LinearGradientBrush>
            </Grid.Background>
            <Label Text="Nová jízda" FontSize="18" FontAttributes="Bold" TextColor="{StaticResource TCwhite}" HorizontalOptions="Center" VerticalOptions="Center" />
        </Grid>

        <!-- Content Section -->
        <ScrollView Grid.Row="1" Padding="15" HorizontalOptions="Fill">
            <StackLayout Spacing="15" HorizontalOptions="FillAndExpand">

                <!-- Phone Number -->
                <Frame Padding="10" CornerRadius="10" BackgroundColor="{StaticResource GradientGray}" HorizontalOptions="FillAndExpand">
                    <VerticalStackLayout Spacing="10">
                        <Label Text="Telefonní číslo" FontSize="17" TextColor="{StaticResource TCwhite}" />
                        <Grid ColumnDefinitions="*,Auto" HorizontalOptions="FillAndExpand">
                            <Entry x:Name="PhoneEntry"
                                   Grid.Column="0"
                                   Placeholder="+420123456789"
                                   PlaceholderColor="{StaticResource NRph}"
                                   TextColor="{StaticResource TCwhite}"
                                   FontSize="18"
                                   BackgroundColor="{StaticResource GridBG}" />
                            <Button Grid.Column="1"
                                    ImageSource="{FontImageSource Glyph={StaticResource refresh}, FontFamily=FAPro, Size=24, Color={StaticResource Bila}}"
                                    BackgroundColor="{StaticResource CustomOrangeBG}"
                                    TextColor="{StaticResource TCwhite}"
                                    CornerRadius="5"
                                    WidthRequest="50" />
                        </Grid>
                    </VerticalStackLayout>
                </Frame>

                <!-- Customer Name with Rating -->
                <Frame Padding="10" CornerRadius="10" BackgroundColor="{StaticResource GradientGray}" HorizontalOptions="FillAndExpand">
                    <VerticalStackLayout Spacing="10">
                        <HorizontalStackLayout>
                            <Label Text="Jméno" FontSize="17" TextColor="{StaticResource TCwhite}" />
                            <inputs:SfRating x:Name="CustomerRating"
                                             ItemCount="5"
                                             Value="3"
                                             Margin="5"
                                             ItemSize="20">
                                <inputs:SfRating.RatingSettings>
                                    <inputs:RatingSettings RatedFill="{StaticResource CustomOrangeText}" RatedStroke="{StaticResource TP}" />
                                </inputs:SfRating.RatingSettings>
                            </inputs:SfRating>
                        </HorizontalStackLayout>
                        <Entry x:Name="NameEntry"
                               Placeholder="Jan Petr"
                               PlaceholderColor="{StaticResource NRph}"
                               TextColor="{StaticResource TCwhite}"
                               FontSize="18"
                               BackgroundColor="{StaticResource GridBG}" />
                    </VerticalStackLayout>
                </Frame>

                <!-- From Location -->
                <Frame Padding="10" CornerRadius="10" BackgroundColor="{StaticResource GradientGray}" HorizontalOptions="FillAndExpand">
                    <VerticalStackLayout Spacing="10">
                        <Label Text="Začátek" FontSize="17" TextColor="{StaticResource TCwhite}" />
                        <Grid ColumnDefinitions="*,Auto" HorizontalOptions="FillAndExpand">
                            <Entry x:Name="FromEntry"
                                   Grid.Column="0"
                                   Placeholder="Praha2"
                                   PlaceholderColor="{StaticResource NRph}"
                                   TextColor="{StaticResource TCwhite}"
                                   FontSize="18"
                                   BackgroundColor="{StaticResource GridBG}" />
                            <Button Grid.Column="1"
                                    ImageSource="{FontImageSource Glyph={StaticResource refresh}, FontFamily=FAPro, Size=24, Color={StaticResource Bila}}"
                                    BackgroundColor="{StaticResource CustomOrangeBG}"
                                    TextColor="{StaticResource TCwhite}"
                                    CornerRadius="5"
                                    WidthRequest="50" />
                        </Grid>
                    </VerticalStackLayout>
                </Frame>

                <!-- To Location -->
                <Frame Padding="10" CornerRadius="10" BackgroundColor="{StaticResource GradientGray}" HorizontalOptions="FillAndExpand">
                    <VerticalStackLayout Spacing="10">
                        <Label Text="Cíl" FontSize="17" TextColor="{StaticResource TCwhite}" />
                        <Grid ColumnDefinitions="*,Auto" HorizontalOptions="FillAndExpand">
                            <Entry x:Name="ToEntry"
                                   Grid.Column="0"
                                   Placeholder="dvorakova"
                                   PlaceholderColor="{StaticResource NRph}"
                                   TextColor="{StaticResource TCwhite}"
                                   FontSize="18"
                                   BackgroundColor="{StaticResource GridBG}" />
                            <Button Grid.Column="1"
                                    ImageSource="{FontImageSource Glyph={StaticResource refresh}, FontFamily=FAPro, Size=24, Color={StaticResource Bila}}"
                                    BackgroundColor="{StaticResource CustomOrangeBG}"
                                    TextColor="{StaticResource TCwhite}"
                                    CornerRadius="5"
                                    WidthRequest="50" />
                        </Grid>
                    </VerticalStackLayout>
                </Frame>

                <!-- Time Selection -->
                <Frame Padding="10" CornerRadius="10" BackgroundColor="{StaticResource GradientGray}" HorizontalOptions="FillAndExpand">
                    <VerticalStackLayout Spacing="10">
                        <HorizontalStackLayout Spacing="5">
                            <Label Text="Čas jízdy" FontSize="17" TextColor="{StaticResource TCwhite}" />
                            <Label Text="(čas nebo minuty do začátku jízdy)" FontSize="12" />
                        </HorizontalStackLayout>
                        <HorizontalStackLayout Spacing="10">
                            
                            <HorizontalStackLayout Spacing="5" HorizontalOptions="FillAndExpand" >
                                <Button Text="0" BackgroundColor="{StaticResource CustomOrangeBG}" TextColor="{StaticResource TCwhite}" CornerRadius="5" WidthRequest="50" />
                                <Button Text="5" BackgroundColor="{StaticResource CustomOrangeBG}" TextColor="{StaticResource TCwhite}" CornerRadius="5" WidthRequest="50" />
                                <Button Text="10" BackgroundColor="{StaticResource CustomOrangeBG}" TextColor="{StaticResource TCwhite}" CornerRadius="5" WidthRequest="50" />
                                <Button Text="15" BackgroundColor="{StaticResource CustomOrangeBG}" TextColor="{StaticResource TCwhite}" CornerRadius="5" WidthRequest="50" />
                                <Button Text="20" BackgroundColor="{StaticResource CustomOrangeBG}" TextColor="{StaticResource TCwhite}" CornerRadius="5" WidthRequest="50" />
                                <Button Text="25" BackgroundColor="{StaticResource CustomOrangeBG}" TextColor="{StaticResource TCwhite}" CornerRadius="5" WidthRequest="50" />
                                <Button Text="30" BackgroundColor="{StaticResource CustomOrangeBG}" TextColor="{StaticResource TCwhite}" CornerRadius="5" WidthRequest="50" />
                                <Button x:Name="TimePickerButton"  Clicked="OnTimePickerButtonClicked" HeightRequest="50" CornerRadius="5" FontSize="17" ImageSource="{FontImageSource Glyph={StaticResource time}, FontFamily=FAPro, Size=24, Color={StaticResource Bila}}" BackgroundColor="{StaticResource CustomOrangeBG}" TextColor="{StaticResource TCwhite}" />







                            </HorizontalStackLayout>
                        </HorizontalStackLayout>
                    </VerticalStackLayout>
                </Frame>

                <!-- Note -->
                <Frame Padding="10" CornerRadius="10" BackgroundColor="{StaticResource GradientGray}" HorizontalOptions="FillAndExpand">
                    <Entry x:Name="NoteEntry"
                           Placeholder="Poznámka"
                           PlaceholderColor="{StaticResource NRph}"
                           TextColor="{StaticResource TCwhite}"
                           FontSize="18"
                           BackgroundColor="{StaticResource GridBG}" />
                </Frame>

                <!-- Save Button -->
                <Button Text="ULOŽIT ZMENY"
                        BackgroundColor="{StaticResource CustomOrangeBG}"
                        TextColor="{StaticResource TCwhite}"
                        FontSize="16"
                        VerticalOptions="EndAndExpand"
                        CornerRadius="10"
                        Command="{Binding SaveDataCmd}" />

            </StackLayout>
        </ScrollView>
    </Grid>
</ContentPage>
